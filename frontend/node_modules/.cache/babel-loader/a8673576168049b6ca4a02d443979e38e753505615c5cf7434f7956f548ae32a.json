{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fkuce\\\\OneDrive\\\\Desktop\\\\Money Projects\\\\Visualizer\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from 'react';\nimport AudioUploader from './components/AudioUploader';\nimport Visualizer from './components/Visualizer';\nimport TemplateSelector from './components/TemplateSelector';\nimport Controls from './components/Controls';\nimport VideoExporter from './components/VideoExporter';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [audioFile, setAudioFile] = useState(null);\n  const [selectedTemplate, setSelectedTemplate] = useState('waveform');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const visualizerRef = useRef(null);\n  const audioRef = useRef(null);\n  const handleAudioUpload = file => {\n    setAudioFile(file);\n    setIsPlaying(false);\n  };\n  const handleTemplateChange = template => {\n    setSelectedTemplate(template);\n  };\n  const handlePlayPause = useCallback(() => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play().catch(error => {\n        console.error('Error playing audio:', error);\n        alert('Failed to play audio. Please try again.');\n      });\n    }\n    setIsPlaying(!isPlaying);\n  }, [isPlaying]);\n  const handleAudioElementCreated = useCallback(audioElement => {\n    audioRef.current = audioElement;\n    if (audioElement) {\n      // Add event listeners for audio state changes\n      audioElement.addEventListener('ended', () => setIsPlaying(false));\n      audioElement.addEventListener('pause', () => setIsPlaying(false));\n      audioElement.addEventListener('play', () => setIsPlaying(true));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Music Visualizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"visualizer-section\",\n      children: /*#__PURE__*/_jsxDEV(Visualizer, {\n        ref: visualizerRef,\n        audioFile: audioFile,\n        template: selectedTemplate,\n        isPlaying: isPlaying,\n        onAudioElementCreated: handleAudioElementCreated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-section\",\n      children: [/*#__PURE__*/_jsxDEV(AudioUploader, {\n        onUpload: handleAudioUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TemplateSelector, {\n        selectedTemplate: selectedTemplate,\n        onTemplateChange: handleTemplateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {\n        isPlaying: isPlaying,\n        onPlayPause: handlePlayPause,\n        audioElement: audioRef.current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VideoExporter, {\n        visualizerRef: visualizerRef,\n        audioFile: audioFile,\n        isPlaying: isPlaying\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"6u3p1fr+BSt07bpaw2CkPZRs06k=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","AudioUploader","Visualizer","TemplateSelector","Controls","VideoExporter","jsxDEV","_jsxDEV","App","_s","audioFile","setAudioFile","selectedTemplate","setSelectedTemplate","isPlaying","setIsPlaying","visualizerRef","audioRef","handleAudioUpload","file","handleTemplateChange","template","handlePlayPause","current","pause","play","catch","error","console","alert","handleAudioElementCreated","audioElement","addEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onAudioElementCreated","onUpload","onTemplateChange","onPlayPause","_c","$RefreshReg$"],"sources":["C:/Users/fkuce/OneDrive/Desktop/Money Projects/Visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\r\nimport AudioUploader from './components/AudioUploader';\r\nimport Visualizer from './components/Visualizer';\r\nimport TemplateSelector from './components/TemplateSelector';\r\nimport Controls from './components/Controls';\r\nimport VideoExporter from './components/VideoExporter';\r\nimport './styles/App.css';\r\n\r\nfunction App() {\r\n  const [audioFile, setAudioFile] = useState(null);\r\n  const [selectedTemplate, setSelectedTemplate] = useState('waveform');\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const visualizerRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n\r\n  const handleAudioUpload = (file) => {\r\n    setAudioFile(file);\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  const handleTemplateChange = (template) => {\r\n    setSelectedTemplate(template);\r\n  };\r\n\r\n  const handlePlayPause = useCallback(() => {\r\n    if (!audioRef.current) return;\r\n\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n    } else {\r\n      audioRef.current.play().catch(error => {\r\n        console.error('Error playing audio:', error);\r\n        alert('Failed to play audio. Please try again.');\r\n      });\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  }, [isPlaying]);\r\n\r\n  const handleAudioElementCreated = useCallback((audioElement) => {\r\n    audioRef.current = audioElement;\r\n    if (audioElement) {\r\n      // Add event listeners for audio state changes\r\n      audioElement.addEventListener('ended', () => setIsPlaying(false));\r\n      audioElement.addEventListener('pause', () => setIsPlaying(false));\r\n      audioElement.addEventListener('play', () => setIsPlaying(true));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header>\r\n        <h1>Music Visualizer</h1>\r\n      </header>\r\n      <div className=\"visualizer-section\">\r\n        <Visualizer\r\n          ref={visualizerRef}\r\n          audioFile={audioFile}\r\n          template={selectedTemplate}\r\n          isPlaying={isPlaying}\r\n          onAudioElementCreated={handleAudioElementCreated}\r\n        />\r\n      </div>\r\n      <div className=\"controls-section\">\r\n        <AudioUploader onUpload={handleAudioUpload} />\r\n        <TemplateSelector \r\n          selectedTemplate={selectedTemplate} \r\n          onTemplateChange={handleTemplateChange} \r\n        />\r\n        <Controls \r\n          isPlaying={isPlaying} \r\n          onPlayPause={handlePlayPause} \r\n          audioElement={audioRef.current}\r\n        />\r\n        <VideoExporter \r\n          visualizerRef={visualizerRef} \r\n          audioFile={audioFile} \r\n          isPlaying={isPlaying} \r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}